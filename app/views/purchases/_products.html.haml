%table.table.table-striped.table-sm
  %thead
    %tr
      %th= t(:scode)
      %th
        = t(:name)
        %input{:name => "query", "v-model" => "nameQuery"}
      %th
        = t(:category)
        %input{:category => "query", "v-model" => "categoryQuery"}
      %th{ "v-for" => "(value, key) in columns" , "@click" => "sortBy(key)" , ":class" => "{ active: sortKey == key }" }
        {{ value | capitalize }}
        %span.arrow{":class" => "sortOrders[key] > 0 ? 'asc' : 'dsc'"}
      %th
  %tbody
    %tr{:class => "line-#{cycle("1","2")}" ,"v-for" => "product in filteredProducts"}
      %td
        {{ product.scode }}
      %td
        %a{ ":href" => "'/products/' + product.id"}
          {{product.name}}
      %td
        {{product.category}}
      %td{ "v-for" => "(val , key ) in columns" }
        {{ product[key]}}
      %td
        %a{ "@click" => "to_basket(product)" , "v-if" => "!in_basket(product)"}
          =image_tag "plus.png" , width: "30px"
